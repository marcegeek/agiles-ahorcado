<?xml-stylesheet type="text/xsl" href="../../../mypy-html.xslt"?><mypy-report-file name="features/steps/juego_steps.py" module="juego_steps"><line any_info="No Anys on this line!" content="import re" number="1" precision="precise"/><line any_info="No Anys on this line!" content="" number="2" precision="empty"/><line any_info="No Anys on this line!" content="from behave import given, then, when" number="3" precision="any"/><line any_info="No Anys on this line!" content="" number="4" precision="empty"/><line any_info="No Anys on this line!" content="from app import app" number="5" precision="precise"/><line any_info="No Anys on this line!" content="" number="6" precision="empty"/><line any_info="No Anys on this line!" content="" number="7" precision="empty"/><line any_info="No Anys on this line!" content="def get(context, action, params=None):" number="8" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x6)" content="    return context.client.get(action, params=params, follow_redirects=True)" number="9" precision="any"/><line any_info="No Anys on this line!" content="" number="10" precision="empty"/><line any_info="No Anys on this line!" content="" number="11" precision="empty"/><line any_info="No Anys on this line!" content="def post(context, action, data=None):" number="12" precision="any"/><line any_info="Any Types on this line: &#10;Unannotated (x6)" content="    return context.client.post(action, data=data, follow_redirects=True)" number="13" precision="any"/><line any_info="No Anys on this line!" content="" number="14" precision="empty"/><line any_info="No Anys on this line!" content="" number="15" precision="empty"/><line any_info="No Anys on this line!" content="@given('I have a valid word &quot;{word}&quot;')" number="16" precision="empty"/><line any_info="No Anys on this line!" content="def step_impl(context, word):" number="17" precision="empty"/><line any_info="No Anys on this line!" content="    context.client = app.test_client()" number="18" precision="empty"/><line any_info="No Anys on this line!" content="    context.resp = post(context, &quot;/juego&quot;, {&quot;palabra&quot;: word})" number="19" precision="empty"/><line any_info="No Anys on this line!" content="" number="20" precision="empty"/><line any_info="No Anys on this line!" content="" number="21" precision="empty"/><line any_info="No Anys on this line!" content="@when(&quot;I start the game&quot;)" number="22" precision="empty"/><line any_info="No Anys on this line!" content="def step_impl(context):" number="23" precision="empty"/><line any_info="No Anys on this line!" content="    pass" number="24" precision="empty"/><line any_info="No Anys on this line!" content="" number="25" precision="empty"/><line any_info="No Anys on this line!" content="" number="26" precision="empty"/><line any_info="No Anys on this line!" content="@then('I should see the masked word &quot;{expected_progress}&quot;')" number="27" precision="empty"/><line any_info="No Anys on this line!" content="def step_impl(context, expected_progress):" number="28" precision="empty"/><line any_info="No Anys on this line!" content="    assert context.resp.status_code == 200" number="29" precision="empty"/><line any_info="No Anys on this line!" content="    # eliminar comentarios" number="30" precision="empty"/><line any_info="No Anys on this line!" content="    html = re.sub(&quot;&lt;!--.*?--&gt;&quot;, &quot;&quot;, context.resp.text)" number="31" precision="empty"/><line any_info="No Anys on this line!" content="    m = re.search(r&quot;&lt;p\b.*?&gt;Progreso de la palabra: (.+)&lt;/p&gt;&quot;, html, re.IGNORECASE)" number="32" precision="empty"/><line any_info="No Anys on this line!" content="    progress = m.group(1)" number="33" precision="empty"/><line any_info="No Anys on this line!" content="    assert progress == expected_progress" number="34" precision="empty"/><line any_info="No Anys on this line!" content="" number="35" precision="empty"/><line any_info="No Anys on this line!" content="" number="36" precision="empty"/><line any_info="No Anys on this line!" content="@when('I guess the letter &quot;{letter}&quot;')" number="37" precision="empty"/><line any_info="No Anys on this line!" content="def step_impl(context, letter):" number="38" precision="empty"/><line any_info="No Anys on this line!" content="    context.resp = post(context, &quot;/juego&quot;, {&quot;intento&quot;: letter})" number="39" precision="empty"/><line any_info="No Anys on this line!" content="" number="40" precision="empty"/><line any_info="No Anys on this line!" content="" number="41" precision="empty"/><line any_info="No Anys on this line!" content="@then('I should see &quot;{expected_progress}&quot;')" number="42" precision="empty"/><line any_info="No Anys on this line!" content="def step_impl(context, expected_progress):" number="43" precision="empty"/><line any_info="No Anys on this line!" content="    assert context.resp.status_code == 200" number="44" precision="empty"/><line any_info="No Anys on this line!" content="    html = re.sub(&quot;&lt;!--.*?--&gt;&quot;, &quot;&quot;, context.resp.text)" number="45" precision="empty"/><line any_info="No Anys on this line!" content="    m = re.search(r&quot;&lt;p\b.*?&gt;Progreso de la palabra: (.+)&lt;/p&gt;&quot;, html, re.IGNORECASE)" number="46" precision="empty"/><line any_info="No Anys on this line!" content="    progress = m.group(1)" number="47" precision="empty"/><line any_info="No Anys on this line!" content="    assert progress == expected_progress" number="48" precision="empty"/><line any_info="No Anys on this line!" content="" number="49" precision="empty"/><line any_info="No Anys on this line!" content="" number="50" precision="empty"/><line any_info="No Anys on this line!" content="@when('I guess the word &quot;{word}&quot;')" number="51" precision="empty"/><line any_info="No Anys on this line!" content="def step_impl(context, word):" number="52" precision="empty"/><line any_info="No Anys on this line!" content="    context.resp = post(context, &quot;/juego&quot;, {&quot;intento&quot;: word})" number="53" precision="empty"/><line any_info="No Anys on this line!" content="" number="54" precision="empty"/><line any_info="No Anys on this line!" content="" number="55" precision="empty"/><line any_info="No Anys on this line!" content="@then(&quot;the remaining attempts should be {expected_attempts:d}&quot;)" number="56" precision="unanalyzed"/><line any_info="No Anys on this line!" content="def step_impl(context, expected_attempts):" number="57" precision="any"/><line any_info="No Anys on this line!" content="    assert context.resp.status_code == 200" number="58" precision="unanalyzed"/><line any_info="No Anys on this line!" content="    html = re.sub(&quot;&lt;!--.*?--&gt;&quot;, &quot;&quot;, context.resp.text)" number="59" precision="unanalyzed"/><line any_info="No Anys on this line!" content="    m = re.search(r&quot;&lt;p\b.*?&gt;Intentos restantes: (\d+)&lt;/p&gt;&quot;, html, re.IGNORECASE)" number="60" precision="unanalyzed"/><line any_info="No Anys on this line!" content="    intentos = int(m.group(1))" number="61" precision="unanalyzed"/><line any_info="No Anys on this line!" content="    assert intentos == expected_attempts" number="62" precision="unanalyzed"/></mypy-report-file>