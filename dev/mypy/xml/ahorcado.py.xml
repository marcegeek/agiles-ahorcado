<?xml-stylesheet type="text/xsl" href="../mypy-html.xslt"?><mypy-report-file name="ahorcado.py" module="ahorcado"><line any_info="No Anys on this line!" content="&quot;&quot;&quot;Lógica del juego del ahorcado." number="1" precision="empty"/><line any_info="No Anys on this line!" content="" number="2" precision="empty"/><line any_info="No Anys on this line!" content="La clase Juego implementa la lógica de un único juego, mientras que la clase Partida" number="3" precision="empty"/><line any_info="No Anys on this line!" content="implementa la lógica de una partida entre dos jugadores con 6 rondas intercaladas para cada uno." number="4" precision="empty"/><line any_info="No Anys on this line!" content="&quot;&quot;&quot;" number="5" precision="empty"/><line any_info="No Anys on this line!" content="" number="6" precision="empty"/><line any_info="No Anys on this line!" content="from __future__ import annotations" number="7" precision="precise"/><line any_info="No Anys on this line!" content="" number="8" precision="empty"/><line any_info="No Anys on this line!" content="from typing import Any" number="9" precision="precise"/><line any_info="No Anys on this line!" content="" number="10" precision="empty"/><line any_info="No Anys on this line!" content="" number="11" precision="empty"/><line any_info="No Anys on this line!" content="class Juego:" number="12" precision="precise"/><line any_info="No Anys on this line!" content="    &quot;&quot;&quot;Lógica básica del juego del ahorcado.&quot;&quot;&quot;" number="13" precision="empty"/><line any_info="No Anys on this line!" content="" number="14" precision="empty"/><line any_info="No Anys on this line!" content="    # constantes de la clase" number="15" precision="empty"/><line any_info="No Anys on this line!" content="    MAX_INTENTOS = 6" number="16" precision="precise"/><line any_info="No Anys on this line!" content="    INTENTOS_LETRA = 1" number="17" precision="precise"/><line any_info="No Anys on this line!" content="    INTENTOS_PALABRA = 2" number="18" precision="precise"/><line any_info="No Anys on this line!" content="" number="19" precision="empty"/><line any_info="No Anys on this line!" content="    def __init__(" number="20" precision="precise"/><line any_info="No Anys on this line!" content="        self," number="21" precision="empty"/><line any_info="No Anys on this line!" content="        palabra: str," number="22" precision="empty"/><line any_info="No Anys on this line!" content="        acerto: bool | None = None," number="23" precision="precise"/><line any_info="No Anys on this line!" content="        intentos_usados: int | None = None," number="24" precision="precise"/><line any_info="No Anys on this line!" content="        letras_usadas: list[str] | None = None," number="25" precision="precise"/><line any_info="No Anys on this line!" content="    ) -&gt; None:" number="26" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Inicializa el juego con una palabra.&quot;&quot;&quot;" number="27" precision="empty"/><line any_info="No Anys on this line!" content="        if not palabra.replace(&quot; &quot;, &quot;&quot;).isalpha():" number="28" precision="precise"/><line any_info="No Anys on this line!" content="            error = &quot;Palabra invalida: debe contener solo letras o espacios&quot;" number="29" precision="precise"/><line any_info="No Anys on this line!" content="            raise ValueError(error)" number="30" precision="precise"/><line any_info="No Anys on this line!" content="        self.palabra = palabra.lower()" number="31" precision="precise"/><line any_info="No Anys on this line!" content="        self.acerto = acerto if acerto is not None else False" number="32" precision="precise"/><line any_info="No Anys on this line!" content="        self.intentos_usados = intentos_usados if intentos_usados is not None else 0" number="33" precision="precise"/><line any_info="Any Types on this line: &#10;Omitted Generics (x6)" content="        self._letras_usadas = set(letras_usadas) if letras_usadas is not None else set()" number="34" precision="precise"/><line any_info="No Anys on this line!" content="" number="35" precision="empty"/><line any_info="No Anys on this line!" content="    def arriesgar_letra(self, letra: str) -&gt; str:" number="36" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Arriesga una letra." number="37" precision="empty"/><line any_info="No Anys on this line!" content="" number="38" precision="empty"/><line any_info="No Anys on this line!" content="        Dada una letra, devuelve uno de 4 valores posibles:" number="39" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;letra ya usada, &quot;letra se encuentra&quot;, &quot;letra no se encuentra&quot;, &quot;letra invalida&quot;" number="40" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;" number="41" precision="empty"/><line any_info="No Anys on this line!" content="        if letra.isalpha() and len(letra) == 1:" number="42" precision="precise"/><line any_info="No Anys on this line!" content="            letra = letra.lower()" number="43" precision="precise"/><line any_info="No Anys on this line!" content="            if letra in self._letras_usadas:" number="44" precision="precise"/><line any_info="No Anys on this line!" content="                return &quot;letra ya usada&quot;" number="45" precision="precise"/><line any_info="No Anys on this line!" content="            self._letras_usadas.add(letra)" number="46" precision="precise"/><line any_info="No Anys on this line!" content="            if letra in self.palabra:" number="47" precision="precise"/><line any_info="No Anys on this line!" content="                if &quot;_&quot; not in self.mostrar_progreso_palabra():" number="48" precision="precise"/><line any_info="No Anys on this line!" content="                    self.acerto = True" number="49" precision="precise"/><line any_info="No Anys on this line!" content="                return &quot;letra se encuentra&quot;" number="50" precision="precise"/><line any_info="No Anys on this line!" content="            self.intentos_usados += self.INTENTOS_LETRA" number="51" precision="precise"/><line any_info="No Anys on this line!" content="            return &quot;letra no se encuentra&quot;" number="52" precision="precise"/><line any_info="No Anys on this line!" content="        return &quot;letra invalida&quot;" number="53" precision="precise"/><line any_info="No Anys on this line!" content="" number="54" precision="empty"/><line any_info="No Anys on this line!" content="    def arriesgar_palabra(self, palabra: str) -&gt; str:" number="55" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Arriesga una palabra." number="56" precision="empty"/><line any_info="No Anys on this line!" content="" number="57" precision="empty"/><line any_info="No Anys on this line!" content="        Dada una palabra, devuelve uno de 2 valores posibles:" number="58" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;palabra correcta&quot;, &quot;palabra incorrecta&quot;" number="59" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;" number="60" precision="empty"/><line any_info="No Anys on this line!" content="        palabra = palabra.lower()" number="61" precision="precise"/><line any_info="No Anys on this line!" content="        if palabra == self.palabra:" number="62" precision="precise"/><line any_info="No Anys on this line!" content="            self._letras_usadas.update(palabra)" number="63" precision="precise"/><line any_info="No Anys on this line!" content="            self.acerto = True" number="64" precision="precise"/><line any_info="No Anys on this line!" content="            return &quot;palabra correcta&quot;" number="65" precision="precise"/><line any_info="No Anys on this line!" content="        self.intentos_usados += self.INTENTOS_PALABRA" number="66" precision="precise"/><line any_info="No Anys on this line!" content="        return &quot;palabra incorrecta&quot;" number="67" precision="precise"/><line any_info="No Anys on this line!" content="" number="68" precision="empty"/><line any_info="No Anys on this line!" content="    def intentos_disponibles(self) -&gt; int:" number="69" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna los intentos disponibles.&quot;&quot;&quot;" number="70" precision="empty"/><line any_info="Any Types on this line: &#10;Omitted Generics (x23)" content="        return max(self.MAX_INTENTOS - self.intentos_usados, 0)" number="71" precision="precise"/><line any_info="No Anys on this line!" content="" number="72" precision="empty"/><line any_info="No Anys on this line!" content="    @property" number="73" precision="empty"/><line any_info="No Anys on this line!" content="    def letras_usadas(self) -&gt; list[str]:" number="74" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Devuelve las letras usadas, ordenadas y sin repeticiones.&quot;&quot;&quot;" number="75" precision="empty"/><line any_info="Any Types on this line: &#10;Omitted Generics (x5)" content="        return sorted(self._letras_usadas)" number="76" precision="precise"/><line any_info="No Anys on this line!" content="" number="77" precision="empty"/><line any_info="No Anys on this line!" content="    def mostrar_progreso_palabra(self) -&gt; str:" number="78" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna el progreso de la palabra.&quot;&quot;&quot;" number="79" precision="empty"/><line any_info="No Anys on this line!" content="        avance = &quot;&quot;" number="80" precision="precise"/><line any_info="No Anys on this line!" content="        for i in self.palabra:" number="81" precision="precise"/><line any_info="No Anys on this line!" content="            if i in self._letras_usadas:" number="82" precision="precise"/><line any_info="No Anys on this line!" content="                avance = avance + i" number="83" precision="precise"/><line any_info="No Anys on this line!" content="            elif i == &quot; &quot;:" number="84" precision="precise"/><line any_info="No Anys on this line!" content="                avance = avance + &quot; &quot;" number="85" precision="precise"/><line any_info="No Anys on this line!" content="            else:" number="86" precision="empty"/><line any_info="No Anys on this line!" content="                avance = avance + &quot;_&quot;" number="87" precision="precise"/><line any_info="No Anys on this line!" content="        return avance" number="88" precision="precise"/><line any_info="No Anys on this line!" content="" number="89" precision="empty"/><line any_info="No Anys on this line!" content="    def perdio(self) -&gt; bool:" number="90" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si se perdió el juego (implica que está finalizado).&quot;&quot;&quot;" number="91" precision="empty"/><line any_info="No Anys on this line!" content="        return not self.acerto and self.intentos_disponibles() == 0" number="92" precision="precise"/><line any_info="No Anys on this line!" content="" number="93" precision="empty"/><line any_info="No Anys on this line!" content="    def finalizo(self) -&gt; bool:" number="94" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si el juego finalizó.&quot;&quot;&quot;" number="95" precision="empty"/><line any_info="No Anys on this line!" content="        return self.acerto or self.perdio()" number="96" precision="precise"/><line any_info="No Anys on this line!" content="" number="97" precision="empty"/><line any_info="No Anys on this line!" content="    def puntaje(self) -&gt; int:" number="98" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna el puntaje del juego.&quot;&quot;&quot;" number="99" precision="empty"/><line any_info="No Anys on this line!" content="        return 0 if not self.acerto else self.intentos_disponibles()" number="100" precision="precise"/><line any_info="No Anys on this line!" content="" number="101" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="    def to_dict(self) -&gt; dict[str, Any]:" number="102" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna el juego serializado en un diccionario.&quot;&quot;&quot;" number="103" precision="empty"/><line any_info="No Anys on this line!" content="        return {" number="104" precision="empty"/><line any_info="No Anys on this line!" content="            &quot;palabra&quot;: self.palabra," number="105" precision="precise"/><line any_info="No Anys on this line!" content="            &quot;acerto&quot;: self.acerto," number="106" precision="precise"/><line any_info="No Anys on this line!" content="            &quot;intentos_usados&quot;: self.intentos_usados," number="107" precision="precise"/><line any_info="No Anys on this line!" content="            &quot;letras_usadas&quot;: self.letras_usadas," number="108" precision="precise"/><line any_info="No Anys on this line!" content="        }" number="109" precision="empty"/><line any_info="No Anys on this line!" content="" number="110" precision="empty"/><line any_info="No Anys on this line!" content="    @classmethod" number="111" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="    def from_dict(cls, data: dict[str, Any]) -&gt; Juego:" number="112" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Crea un juego a partir de los datos serializados.&quot;&quot;&quot;" number="113" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        palabra = data[&quot;palabra&quot;]" number="114" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        acerto = data[&quot;acerto&quot;]" number="115" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        intentos_usados = data[&quot;intentos_usados&quot;]" number="116" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        letras_usadas = data[&quot;letras_usadas&quot;]" number="117" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x4)" content="        return cls(palabra, acerto=acerto, intentos_usados=intentos_usados, letras_usadas=letras_usadas)" number="118" precision="any"/><line any_info="No Anys on this line!" content="" number="119" precision="empty"/><line any_info="No Anys on this line!" content="" number="120" precision="empty"/><line any_info="No Anys on this line!" content="class Partida:" number="121" precision="precise"/><line any_info="No Anys on this line!" content="    &quot;&quot;&quot;Lógica de una partida a 6 rondas entre dos jugadores.&quot;&quot;&quot;" number="122" precision="empty"/><line any_info="No Anys on this line!" content="" number="123" precision="empty"/><line any_info="No Anys on this line!" content="    # constantes de la clase" number="124" precision="empty"/><line any_info="No Anys on this line!" content="    NUM_RONDAS = 6  # rondas por cada jugador" number="125" precision="precise"/><line any_info="No Anys on this line!" content="" number="126" precision="empty"/><line any_info="No Anys on this line!" content="    def __init__(" number="127" precision="precise"/><line any_info="No Anys on this line!" content="        self," number="128" precision="empty"/><line any_info="No Anys on this line!" content="        rondas: list[int] | None = None," number="129" precision="precise"/><line any_info="No Anys on this line!" content="        id_jugador_actual: int | None = None," number="130" precision="precise"/><line any_info="No Anys on this line!" content="        juego: Juego | None = None," number="131" precision="precise"/><line any_info="No Anys on this line!" content="        puntos: list[int] | None = None," number="132" precision="precise"/><line any_info="No Anys on this line!" content="        puntos_actualizados: bool | None = None," number="133" precision="precise"/><line any_info="No Anys on this line!" content="    ) -&gt; None:" number="134" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Inicializa la partida.&quot;&quot;&quot;" number="135" precision="empty"/><line any_info="No Anys on this line!" content="        self.rondas = rondas if rondas is not None else [0, 0]" number="136" precision="precise"/><line any_info="No Anys on this line!" content="        self.id_jugador_actual = id_jugador_actual" number="137" precision="precise"/><line any_info="No Anys on this line!" content="        self.juego = juego" number="138" precision="precise"/><line any_info="No Anys on this line!" content="        self.puntos = puntos if puntos is not None else [0, 0]" number="139" precision="precise"/><line any_info="No Anys on this line!" content="        self.puntos_actualizados = bool(puntos_actualizados)" number="140" precision="precise"/><line any_info="No Anys on this line!" content="" number="141" precision="empty"/><line any_info="No Anys on this line!" content="    def comenzar_ronda(self, palabra: str) -&gt; None:" number="142" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Comienza una nueva ronda con la palabra a adivinar.&quot;&quot;&quot;" number="143" precision="empty"/><line any_info="No Anys on this line!" content="        if not self.id_jugador_actual:" number="144" precision="precise"/><line any_info="No Anys on this line!" content="            self.id_jugador_actual = 1" number="145" precision="precise"/><line any_info="No Anys on this line!" content="        else:" number="146" precision="empty"/><line any_info="No Anys on this line!" content="            self.id_jugador_actual = 0" number="147" precision="precise"/><line any_info="No Anys on this line!" content="        self.rondas[self.id_jugador_actual] += 1" number="148" precision="precise"/><line any_info="No Anys on this line!" content="        self.juego = Juego(palabra)" number="149" precision="precise"/><line any_info="No Anys on this line!" content="        self.puntos_actualizados = False" number="150" precision="precise"/><line any_info="No Anys on this line!" content="" number="151" precision="empty"/><line any_info="No Anys on this line!" content="    def actualizar_puntos(self) -&gt; None:" number="152" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Actualiza los puntos del jugador actual.&quot;&quot;&quot;" number="153" precision="empty"/><line any_info="No Anys on this line!" content="        if self.puntos_actualizados:" number="154" precision="precise"/><line any_info="No Anys on this line!" content="            return" number="155" precision="empty"/><line any_info="No Anys on this line!" content="        if not self.juego or self.id_jugador_actual is None:" number="156" precision="precise"/><line any_info="No Anys on this line!" content="            error = &quot;No se puede actualizar puntos si no se inició ninguna ronda&quot;" number="157" precision="precise"/><line any_info="No Anys on this line!" content="            raise Exception(error)" number="158" precision="precise"/><line any_info="No Anys on this line!" content="        if self.juego.acerto:" number="159" precision="precise"/><line any_info="No Anys on this line!" content="            self.puntos[self.id_jugador_actual] += self.juego.puntaje()" number="160" precision="precise"/><line any_info="No Anys on this line!" content="        self.puntos_actualizados = True" number="161" precision="precise"/><line any_info="No Anys on this line!" content="" number="162" precision="empty"/><line any_info="No Anys on this line!" content="    def ronda_finalizo(self) -&gt; bool:" number="163" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si finalizó la ronda actual.&quot;&quot;&quot;" number="164" precision="empty"/><line any_info="No Anys on this line!" content="        return self.juego is not None and self.juego.finalizo()" number="165" precision="precise"/><line any_info="No Anys on this line!" content="" number="166" precision="empty"/><line any_info="No Anys on this line!" content="    def finalizo(self) -&gt; bool:" number="167" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si finalizó la partida.&quot;&quot;&quot;" number="168" precision="empty"/><line any_info="No Anys on this line!" content="        return self.ronda_finalizo() and self.rondas[0] == self.NUM_RONDAS" number="169" precision="precise"/><line any_info="No Anys on this line!" content="" number="170" precision="empty"/><line any_info="No Anys on this line!" content="    def puntos_jugador(self, id_jugador: int) -&gt; int:" number="171" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna los puntos del jugador indicado.&quot;&quot;&quot;" number="172" precision="empty"/><line any_info="No Anys on this line!" content="        return self.puntos[id_jugador]" number="173" precision="precise"/><line any_info="No Anys on this line!" content="" number="174" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="    def to_dict(self) -&gt; dict[str, Any]:" number="175" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna la partida serializada en un diccionario.&quot;&quot;&quot;" number="176" precision="empty"/><line any_info="No Anys on this line!" content="        return {" number="177" precision="empty"/><line any_info="No Anys on this line!" content="            &quot;rondas&quot;: self.rondas," number="178" precision="precise"/><line any_info="No Anys on this line!" content="            &quot;id_jugador_actual&quot;: self.id_jugador_actual," number="179" precision="precise"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="            &quot;juego&quot;: self.juego.to_dict() if self.juego else None," number="180" precision="imprecise"/><line any_info="No Anys on this line!" content="            &quot;puntos&quot;: self.puntos," number="181" precision="precise"/><line any_info="No Anys on this line!" content="            &quot;puntos_actualizados&quot;: self.puntos_actualizados," number="182" precision="precise"/><line any_info="No Anys on this line!" content="        }" number="183" precision="empty"/><line any_info="No Anys on this line!" content="" number="184" precision="empty"/><line any_info="No Anys on this line!" content="    @classmethod" number="185" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="    def from_dict(cls, data: dict[str, Any]) -&gt; Partida:" number="186" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Crea una partida a partir de los datos serializados.&quot;&quot;&quot;" number="187" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        rondas = data[&quot;rondas&quot;]" number="188" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        id_jugador_actual = data[&quot;id_jugador_actual&quot;]" number="189" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x5)" content="        juego = Juego.from_dict(data[&quot;juego&quot;]) if data[&quot;juego&quot;] else None" number="190" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        puntos = data[&quot;puntos&quot;]" number="191" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        puntos_actualizados = data[&quot;puntos_actualizados&quot;]" number="192" precision="any"/><line any_info="No Anys on this line!" content="        return cls(" number="193" precision="precise"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="            rondas=rondas," number="194" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="            id_jugador_actual=id_jugador_actual," number="195" precision="any"/><line any_info="No Anys on this line!" content="            juego=juego," number="196" precision="precise"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="            puntos=puntos," number="197" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="            puntos_actualizados=puntos_actualizados," number="198" precision="any"/><line any_info="No Anys on this line!" content="        )" number="199" precision="empty"/></mypy-report-file>