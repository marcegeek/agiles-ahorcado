<?xml-stylesheet type="text/xsl" href="../mypy-html.xslt"?><mypy-report-file name="ahorcado.py" module="ahorcado"><line any_info="No Anys on this line!" content="&quot;&quot;&quot;Lógica del juego del ahorcado." number="1" precision="empty"/><line any_info="No Anys on this line!" content="" number="2" precision="empty"/><line any_info="No Anys on this line!" content="La clase Juego implementa la lógica de un único juego, mientras que la clase Partida" number="3" precision="empty"/><line any_info="No Anys on this line!" content="implementa la lógica de una partida entre dos jugadores con 6 rondas intercaladas para cada uno." number="4" precision="empty"/><line any_info="No Anys on this line!" content="&quot;&quot;&quot;" number="5" precision="empty"/><line any_info="No Anys on this line!" content="" number="6" precision="empty"/><line any_info="No Anys on this line!" content="from __future__ import annotations" number="7" precision="precise"/><line any_info="No Anys on this line!" content="" number="8" precision="empty"/><line any_info="No Anys on this line!" content="" number="9" precision="empty"/><line any_info="No Anys on this line!" content="class Juego:" number="10" precision="precise"/><line any_info="No Anys on this line!" content="    &quot;&quot;&quot;Lógica básica del juego del ahorcado.&quot;&quot;&quot;" number="11" precision="empty"/><line any_info="No Anys on this line!" content="" number="12" precision="empty"/><line any_info="No Anys on this line!" content="    # constantes de la clase" number="13" precision="empty"/><line any_info="No Anys on this line!" content="    MAX_INTENTOS = 6" number="14" precision="precise"/><line any_info="No Anys on this line!" content="    INTENTOS_LETRA = 1" number="15" precision="precise"/><line any_info="No Anys on this line!" content="    INTENTOS_PALABRA = 2" number="16" precision="precise"/><line any_info="No Anys on this line!" content="" number="17" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="    def __init__(self, palabra: str | None = None, data: dict | None = None) -&gt; None:" number="18" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Inicializa el juego con una palabra.&quot;&quot;&quot;" number="19" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="        if data:" number="20" precision="imprecise"/><line any_info="Any Types on this line: &#10;Explicit (x6)&#10;Error (x2)" content="            self.__dict__.update(data)" number="21" precision="imprecise"/><line any_info="No Anys on this line!" content="        else:" number="22" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="            if not palabra.replace(&quot; &quot;, &quot;&quot;).isalpha():" number="23" precision="imprecise"/><line any_info="No Anys on this line!" content="                error = &quot;Palabra invalida: debe contener solo letras o espacios&quot;" number="24" precision="precise"/><line any_info="No Anys on this line!" content="                raise ValueError(error)" number="25" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x2)" content="            self.palabra = palabra.lower()" number="26" precision="imprecise"/><line any_info="No Anys on this line!" content="            self.acerto = False" number="27" precision="precise"/><line any_info="No Anys on this line!" content="            self.intentos_usados = 0" number="28" precision="precise"/><line any_info="No Anys on this line!" content="            self.letras_usadas = []" number="29" precision="precise"/><line any_info="No Anys on this line!" content="" number="30" precision="empty"/><line any_info="No Anys on this line!" content="    def arriesgar_letra(self, letra: str) -&gt; str:" number="31" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Arriesga una letra." number="32" precision="empty"/><line any_info="No Anys on this line!" content="" number="33" precision="empty"/><line any_info="No Anys on this line!" content="        Dada una letra, devuelve uno de 4 valores posibles:" number="34" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;letra ya usada, &quot;letra se encuentra&quot;, &quot;letra no se encuentra&quot;, &quot;letra invalida&quot;" number="35" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;" number="36" precision="empty"/><line any_info="No Anys on this line!" content="        if letra.isalpha() and len(letra) == 1:" number="37" precision="precise"/><line any_info="No Anys on this line!" content="            letra = letra.lower()" number="38" precision="precise"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="            if letra in self.letras_usadas:" number="39" precision="imprecise"/><line any_info="No Anys on this line!" content="                return &quot;letra ya usada&quot;" number="40" precision="precise"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="            self.letras_usadas.append(letra)" number="41" precision="any"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            if letra in self.palabra:" number="42" precision="imprecise"/><line any_info="No Anys on this line!" content="                if &quot;_&quot; not in self.mostrar_progreso_palabra():" number="43" precision="precise"/><line any_info="No Anys on this line!" content="                    self.acerto = True" number="44" precision="precise"/><line any_info="No Anys on this line!" content="                return &quot;letra se encuentra&quot;" number="45" precision="precise"/><line any_info="No Anys on this line!" content="            self.intentos_usados += self.INTENTOS_LETRA" number="46" precision="precise"/><line any_info="No Anys on this line!" content="            return &quot;letra no se encuentra&quot;" number="47" precision="precise"/><line any_info="No Anys on this line!" content="        return &quot;letra invalida&quot;" number="48" precision="precise"/><line any_info="No Anys on this line!" content="" number="49" precision="empty"/><line any_info="No Anys on this line!" content="    def arriesgar_palabra(self, palabra: str) -&gt; str:" number="50" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Arriesga una palabra." number="51" precision="empty"/><line any_info="No Anys on this line!" content="" number="52" precision="empty"/><line any_info="No Anys on this line!" content="        Dada una palabra, devuelve uno de 2 valores posibles:" number="53" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;palabra correcta&quot;, &quot;palabra incorrecta&quot;" number="54" precision="empty"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;" number="55" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x1)" content="        if palabra.lower() == self.palabra:" number="56" precision="imprecise"/><line any_info="No Anys on this line!" content="            for i in palabra:" number="57" precision="precise"/><line any_info="Any Types on this line: &#10;Unannotated (x2)" content="                self.letras_usadas.append(i)" number="58" precision="any"/><line any_info="No Anys on this line!" content="            self.acerto = True" number="59" precision="precise"/><line any_info="No Anys on this line!" content="            return &quot;palabra correcta&quot;" number="60" precision="precise"/><line any_info="No Anys on this line!" content="        self.intentos_usados += self.INTENTOS_PALABRA" number="61" precision="precise"/><line any_info="No Anys on this line!" content="        return &quot;palabra incorrecta&quot;" number="62" precision="precise"/><line any_info="No Anys on this line!" content="" number="63" precision="empty"/><line any_info="No Anys on this line!" content="    def intentos_disponibles(self) -&gt; int:" number="64" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna los intentos disponibles.&quot;&quot;&quot;" number="65" precision="empty"/><line any_info="Any Types on this line: &#10;Omitted Generics (x23)" content="        return max(self.MAX_INTENTOS - self.intentos_usados, 0)" number="66" precision="precise"/><line any_info="No Anys on this line!" content="" number="67" precision="empty"/><line any_info="No Anys on this line!" content="    def mostrar_progreso_palabra(self) -&gt; str:" number="68" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna el progreso de la palabra.&quot;&quot;&quot;" number="69" precision="empty"/><line any_info="No Anys on this line!" content="        avance = &quot;&quot;" number="70" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x2)" content="        for i in self.palabra:" number="71" precision="imprecise"/><line any_info="Any Types on this line: &#10;Error (x1)&#10;Unannotated (x1)" content="            if i in self.letras_usadas:" number="72" precision="imprecise"/><line any_info="Any Types on this line: &#10;Error (x1)" content="                avance = avance + i" number="73" precision="imprecise"/><line any_info="Any Types on this line: &#10;Error (x2)" content="            elif i == &quot; &quot;:" number="74" precision="imprecise"/><line any_info="No Anys on this line!" content="                avance = avance + &quot; &quot;" number="75" precision="precise"/><line any_info="No Anys on this line!" content="            else:" number="76" precision="empty"/><line any_info="No Anys on this line!" content="                avance = avance + &quot;_&quot;" number="77" precision="precise"/><line any_info="No Anys on this line!" content="        return avance" number="78" precision="precise"/><line any_info="No Anys on this line!" content="" number="79" precision="empty"/><line any_info="No Anys on this line!" content="    def perdio(self) -&gt; bool:" number="80" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si se perdió el juego (implica que está finalizado).&quot;&quot;&quot;" number="81" precision="empty"/><line any_info="No Anys on this line!" content="        return not self.acerto and self.intentos_disponibles() == 0" number="82" precision="precise"/><line any_info="No Anys on this line!" content="" number="83" precision="empty"/><line any_info="No Anys on this line!" content="    def finalizo(self) -&gt; bool:" number="84" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si el juego finalizó.&quot;&quot;&quot;" number="85" precision="empty"/><line any_info="No Anys on this line!" content="        return self.acerto or self.perdio()" number="86" precision="precise"/><line any_info="No Anys on this line!" content="" number="87" precision="empty"/><line any_info="No Anys on this line!" content="    def puntaje(self) -&gt; int:" number="88" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna el puntaje del juego.&quot;&quot;&quot;" number="89" precision="empty"/><line any_info="No Anys on this line!" content="        return 0 if not self.acerto else self.intentos_disponibles()" number="90" precision="precise"/><line any_info="No Anys on this line!" content="" number="91" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="    def to_dict(self) -&gt; dict:" number="92" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna el juego serializado en un diccionario.&quot;&quot;&quot;" number="93" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x3)" content="        return self.__dict__.copy()" number="94" precision="imprecise"/><line any_info="No Anys on this line!" content="" number="95" precision="empty"/><line any_info="No Anys on this line!" content="" number="96" precision="empty"/><line any_info="No Anys on this line!" content="class Partida:" number="97" precision="precise"/><line any_info="No Anys on this line!" content="    &quot;&quot;&quot;Lógica de una partida a 6 rondas entre dos jugadores.&quot;&quot;&quot;" number="98" precision="empty"/><line any_info="No Anys on this line!" content="" number="99" precision="empty"/><line any_info="No Anys on this line!" content="    # constantes de la clase" number="100" precision="empty"/><line any_info="No Anys on this line!" content="    NUM_RONDAS = 6  # rondas por cada jugador" number="101" precision="precise"/><line any_info="No Anys on this line!" content="" number="102" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="    def __init__(self, data: dict | None = None) -&gt; None:" number="103" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Inicializa la partida.&quot;&quot;&quot;" number="104" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="        if data:" number="105" precision="imprecise"/><line any_info="Any Types on this line: &#10;Explicit (x6)&#10;Error (x2)" content="            self.__dict__.update(data)" number="106" precision="imprecise"/><line any_info="No Anys on this line!" content="            if self.juego:" number="107" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x2)" content="                self.juego = Juego(data=self.juego)" number="108" precision="imprecise"/><line any_info="No Anys on this line!" content="        else:" number="109" precision="empty"/><line any_info="No Anys on this line!" content="            self.rondas = [0, 0]" number="110" precision="precise"/><line any_info="No Anys on this line!" content="            self.id_jugador_actual = None" number="111" precision="precise"/><line any_info="No Anys on this line!" content="            self.juego = None" number="112" precision="precise"/><line any_info="No Anys on this line!" content="            self.puntos = [0, 0]" number="113" precision="precise"/><line any_info="No Anys on this line!" content="" number="114" precision="empty"/><line any_info="No Anys on this line!" content="    def comenzar_ronda(self, palabra: str) -&gt; None:" number="115" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Comienza una nueva ronda con la palabra a adivinar.&quot;&quot;&quot;" number="116" precision="empty"/><line any_info="No Anys on this line!" content="        if not self.id_jugador_actual:" number="117" precision="precise"/><line any_info="No Anys on this line!" content="            self.id_jugador_actual = 1" number="118" precision="precise"/><line any_info="No Anys on this line!" content="        else:" number="119" precision="empty"/><line any_info="Any Types on this line: &#10;Unannotated (x1)" content="            self.id_jugador_actual = 0" number="120" precision="any"/><line any_info="Any Types on this line: &#10;Error (x1)" content="        self.rondas[self.id_jugador_actual] += 1" number="121" precision="any"/><line any_info="Any Types on this line: &#10;Error (x2)" content="        self.juego = Juego(palabra)" number="122" precision="precise"/><line any_info="No Anys on this line!" content="" number="123" precision="empty"/><line any_info="No Anys on this line!" content="    def actualizar_puntos(self) -&gt; None:" number="124" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Actualiza los puntos del jugador actual.&quot;&quot;&quot;" number="125" precision="empty"/><line any_info="No Anys on this line!" content="        if self.juego.acerto:" number="126" precision="precise"/><line any_info="Any Types on this line: &#10;Error (x1)" content="            self.puntos[self.id_jugador_actual] += self.juego.puntaje()" number="127" precision="any"/><line any_info="No Anys on this line!" content="" number="128" precision="empty"/><line any_info="No Anys on this line!" content="    def ronda_finalizo(self) -&gt; bool:" number="129" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si finalizó la ronda actual.&quot;&quot;&quot;" number="130" precision="empty"/><line any_info="No Anys on this line!" content="        return self.juego is not None and self.juego.finalizo()" number="131" precision="precise"/><line any_info="No Anys on this line!" content="" number="132" precision="empty"/><line any_info="No Anys on this line!" content="    def finalizo(self) -&gt; bool:" number="133" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna si finalizó la partida.&quot;&quot;&quot;" number="134" precision="empty"/><line any_info="No Anys on this line!" content="        return self.ronda_finalizo() and self.rondas[0] == self.NUM_RONDAS" number="135" precision="precise"/><line any_info="No Anys on this line!" content="" number="136" precision="empty"/><line any_info="No Anys on this line!" content="    def puntos_jugador(self, id_jugador: int) -&gt; int:" number="137" precision="precise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna los puntos del jugador indicado.&quot;&quot;&quot;" number="138" precision="empty"/><line any_info="No Anys on this line!" content="        return self.puntos[id_jugador]" number="139" precision="precise"/><line any_info="No Anys on this line!" content="" number="140" precision="empty"/><line any_info="Any Types on this line: &#10;Error (x2)" content="    def to_dict(self) -&gt; dict:" number="141" precision="imprecise"/><line any_info="No Anys on this line!" content="        &quot;&quot;&quot;Retorna la partida serializada en un diccionario.&quot;&quot;&quot;" number="142" precision="empty"/><line any_info="Any Types on this line: &#10;Explicit (x4)" content="        d = self.__dict__.copy()" number="143" precision="imprecise"/><line any_info="Any Types on this line: &#10;Explicit (x2)" content="        if d[&quot;juego&quot;]:" number="144" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x5)" content="            d[&quot;juego&quot;] = d[&quot;juego&quot;].to_dict()" number="145" precision="any"/><line any_info="Any Types on this line: &#10;Explicit (x1)" content="        return d" number="146" precision="imprecise"/></mypy-report-file>